var e,a,t=java.lang.System;Packages.br.com.sankhya.jape.EntityFacade;var r=Packages.br.com.sankhya.jape.dao.JdbcWrapper,o=Packages.br.com.sankhya.modelcore.util.EntityFacadeFactory,s=Packages.br.com.sankhya.ws.ServiceContext,n=Packages.com.google.gson.JsonArray,l=Packages.com.google.gson.JsonObject,i=Packages.com.sankhya.util.JdbcUtils;java.nio.file.Files,java.nio.file.Path,java.nio.file.Paths;var c=java.util.AbstractMap;java.util.Arrays,java.util.Collections,java.util.List,java.util.stream.Collectors,message=(a=function(e){var a=new l,s=null,g=null,d=t.currentTimeMillis();try{(s=o.getDWFFacade().getJdbcWrapper()).openSession();var u=s.getPreparedStatement(e),v=u.execute(),y=u.getUpdateCount();g=u.getResultSet();var m=d-t.currentTimeMillis();if(v){var p=function(e){for(var a=new n,t=e.getMetaData().getColumnCount(),r=0;e.next();){r++;for(var o=new l,s=1;s<=t;s++){var i=e.getString(s),g=e.getMetaData().getColumnLabel(s);o.has(g)?o.addProperty(g+s,i):o.addProperty(g,i)}a.add(o)}return new c.SimpleEntry(a,r)}(g);a.add("rows",p.getKey()),y=p.getValue()}return a.addProperty("rowsUpdated",y),a.addProperty("executeStatus",v),a.addProperty("queryTime",Math.abs(m)),a}catch(e){throw Error("Erro: "+e)}finally{i.closeResultSet(g),r.closeSession(s)}}(null===(e=s.getCurrent().getJsonRequestBody().get("sql"))||void 0===e?void 0:e.getAsString()),void s.getCurrent().setJsonResponse(a));